use std.backend std.io.base std.io.file

fn void exit int exitCode{
 currentThread freeEHentries
 exit exitCode
}
fn int execute String cmd{
  var ccmd cmd toCString
  var exitCode execute ccmd
  ccmd free
  if exitCode == -1{
    IOException:new "invalid command " + cmd;;throw
  }
  return exitCode
}
private{
 FileWriter fileStderr stderr
 FileWriter fileStdout stdout
 FileReader fileStdin stdin
}
DataWriter stderr fileStderr
DataWriter stdout fileStdout
DataReader stdin fileStdin